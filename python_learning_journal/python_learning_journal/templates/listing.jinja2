{% extends "layout.jinja2" %}
{% block body %}
    {% if authenticated %} 
        <ul>
            <li class="tab"><a href="/journal/new-entry">New Entry</a></li>
            <li class="tab"><a href="/logout">Logout</a></li>
        </ul>
    {% endif %}     
    {% if journal_entries %}
        {% for entry in journal_entries %}
            <article>
                <hr/>
                <h3><a href="{{ request.route_url('detail_view', id=entry.id) }}">{{ entry.title }}</a></h3>
                <p>Created <strong>{{ entry.creation_date }}</strong></p>
            </article>
        {% endfor %}
    {% else %}
        <p>You have no journal entries to list.</p>
    {% endif %}
{% endblock %}
{% block create %}
    <input type="hidden" name="csrf_token" value="{{ request.session.get_csrf_token() }}" />
    <h1>Create New Journal Entry</h1>
    <form method="POST">
        <ul>
            <li>
                <label for="title">Title: </label>
                <input type="text" name="title" value="{{ title }}">
            </li>
            <li>
                <label for="body">Body: </label>
                <textarea name="body">{{ body }}</textarea>
            </li>
        </ul>
        <input type="submit" value="Submit Journal Entry">
    </form>
{% endblock %}
